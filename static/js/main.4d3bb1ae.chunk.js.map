{"version":3,"sources":["api/api.js","components/BackdropLoader.js","components/SelectFilter.js","components/GalleryFilter.js","components/ImageModal.js","components/GalleryGrid.js","components/GallerySnackBar.js","App.js","index.js"],"names":["API","filters","page","axios","showViral","then","response","res","JSON","parse","data","success","Error","error","catch","useStyles","makeStyles","theme","backdrop","zIndex","drawer","color","BackdropLoader","open","classes","Backdrop","className","CircularProgress","formControl","margin","spacing","whiteColor","SelectFilter","name","label","value","onChangeHandler","items","disabled","FormControl","InputLabel","id","focused","root","Select","labelId","onChange","icon","map","item","key","MenuItem","display","justifyContent","GalleryFilter","setFilters","event","target","checked","AppBar","position","Toolbar","section","Divider","orientation","flexItem","sort","window","FormControlLabel","control","Switch","size","labelPlacement","modal","overflow","maxWidth","header","textAlign","padding","box","marginLeft","marginRight","ImageModal","imageIsOpen","imageDetails","handleClose","mediaType","type","Modal","onClose","Card","CardHeader","title","subheader","desc","action","IconButton","onClick","CardContent","Box","ups","Typography","downs","score","CardMedia","component","image","link","controls","flexWrap","backgroundColor","palette","background","paper","pointer","cursor","withWidth","images","width","useState","setImageIsOpen","setImageDetails","GridList","cols","isWidthUp","imageObj","description","gifv","slice","curImage","getImageParts","GridListTile","imgDetails","src","alt","GridListTileBar","marginTop","GallerySnackBar","isError","setIsError","reason","Snackbar","autoHideDuration","elevation","variant","severity","App","isLoading","setIsLoading","setPage","setImages","useEffect","handleScroll","Math","ceil","innerHeight","document","documentElement","scrollTop","offsetHeight","a","result","fetchData","addEventListener","removeEventListener","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.4d3bb1ae.chunk.js","sourcesContent":["import * as axios from 'axios';\r\n\r\nexport const API = {\r\n  fetchData(filters, page = 0) {\r\n    return axios\r\n      .post(\r\n        'https://euro-aris.glitch.me/euro',\r\n        {\r\n          ...filters,\r\n          showViral: filters.showViral ? \"true\" : \"false\",\r\n          page: page\r\n        }\r\n      )\r\n      .then(response => {\r\n        const res = JSON.parse(response.data);\r\n\r\n        if (!res.success) {\r\n          throw new Error(res.data.error);\r\n        }\r\n\r\n        return res;\r\n      })\r\n      .catch(error => {\r\n        throw new Error(error);\r\n      });\r\n  }\r\n};\r\n","import React from 'react';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  backdrop: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    color: '#fff',\r\n  },\r\n}));\r\n\r\nconst BackdropLoader = ({ open }) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Backdrop className={classes.backdrop} open={open}>\r\n      <CircularProgress color=\"inherit\" />\r\n    </Backdrop>\r\n  );\r\n};\r\n\r\nexport default BackdropLoader;\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  formControl: {\r\n    margin: theme.spacing(1)\r\n  },\r\n  whiteColor: {\r\n    color: \"white\"\r\n  }\r\n}));\r\n\r\nconst SelectFilter = ({ name, label, value, onChangeHandler, items, disabled = false }) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <FormControl className={classes.formControl} disabled={disabled}>\r\n      <InputLabel\r\n        id={`${name}-label`}\r\n        focused={false}\r\n        classes={{root: classes.whiteColor}}\r\n      >\r\n        {label}\r\n      </InputLabel>\r\n      <Select\r\n        labelId={`${name}-label`}\r\n        name={name}\r\n        value={value}\r\n        onChange={onChangeHandler}\r\n        classes={{\r\n          root: classes.whiteColor,\r\n          icon: classes.whiteColor\r\n        }}\r\n      >\r\n        {items.map((item, key) => (\r\n          <MenuItem\r\n            key={key}\r\n            value={item.value}\r\n            disabled={!!item.disabled}\r\n          >\r\n            {item.label}\r\n          </MenuItem>\r\n        ))}\r\n      </Select>\r\n    </FormControl>\r\n  );\r\n};\r\n\r\nexport default SelectFilter;","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport SelectFilter from './SelectFilter';\r\nimport { Switch } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n    justifyContent: 'space-around',\r\n  }\r\n}));\r\n\r\nconst GalleryFilter = ({ filters, setFilters }) => {\r\n  const classes = useStyles();\r\n\r\n  const onChangeHandler = (event) => setFilters({\r\n    ...filters,\r\n    [event.target.name]: (\r\n      event.target.name === 'showViral' ?\r\n        event.target.checked\r\n      : event.target.value\r\n    )\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <AppBar position=\"fixed\" color=\"primary\">\r\n        <Toolbar className={classes.root}>\r\n          <SelectFilter\r\n            name=\"section\"\r\n            label=\"Section\"\r\n            value={filters.section}\r\n            onChangeHandler={onChangeHandler}\r\n            items={[\r\n              {value: \"hot\", label: \"Hot\"},\r\n              {value: \"top\", label: \"Top\"},\r\n              {value: \"user\", label: \"User\"}\r\n            ]}\r\n          />\r\n          <Divider orientation=\"vertical\" flexItem />\r\n          <SelectFilter\r\n            name=\"sort\"\r\n            label=\"Sort\"\r\n            value={(\r\n              filters.section !== 'user' && filters.sort === 'rising' ?\r\n                'viral'\r\n              : filters.sort\r\n            )}\r\n            onChangeHandler={onChangeHandler}\r\n            items={[\r\n              {value: \"viral\", label: \"Viral\"},\r\n              {value: \"top\", label: \"Top\"},\r\n              {value: \"time\", label: \"Time\"},\r\n              {value: \"rising\", label: \"Rising\", disabled: filters.section !== 'user'}\r\n            ]}\r\n          />\r\n          <Divider orientation=\"vertical\" flexItem />\r\n          <SelectFilter\r\n            name=\"window\"\r\n            label=\"Window\"\r\n            value={filters.section !== 'top' ? 'day' : filters.window }\r\n            onChangeHandler={onChangeHandler}\r\n            items={[\r\n              {value: \"day\", label: \"Day\"},\r\n              {value: \"week\", label: \"Week\"},\r\n              {value: \"month\", label: \"Month\"},\r\n              {value: \"year\", label: \"Year\"},\r\n              {value: \"all\", label: \"All\"}\r\n            ]}\r\n            disabled={filters.section !== 'top'}\r\n          />\r\n          <Divider orientation=\"vertical\" flexItem />\r\n          <FormControlLabel\r\n            value=\"showViral\"\r\n            control={(\r\n              <Switch\r\n                name='showViral'\r\n                size=\"small\"\r\n                color=\"secondary\"\r\n                checked={filters.section !== 'user' ? true : filters.showViral}\r\n                onChange={onChangeHandler}\r\n                disabled={filters.section !== 'user'}\r\n              />\r\n            )}\r\n            label=\"Viral\"\r\n            labelPlacement=\"top\"\r\n          />\r\n        </Toolbar>\r\n      </AppBar>\r\n      <Toolbar />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default GalleryFilter;","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Box from '@material-ui/core/Box';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ThumbUpIcon from '@material-ui/icons/ThumbUp';\r\nimport ThumbDownIcon from '@material-ui/icons/ThumbDown';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport ScoreIcon from '@material-ui/icons/Score';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  modal: {\r\n    overflow: 'auto',\r\n    maxWidth: 800,\r\n    margin: 'auto'\r\n  },\r\n  header: {\r\n    textAlign: 'center',\r\n    padding: 0\r\n  },\r\n  root: {\r\n    padding: theme.spacing(1)\r\n  },\r\n  box: {\r\n    '& > *': {\r\n      marginLeft: theme.spacing(1),\r\n      marginRight: theme.spacing(1)\r\n    }\r\n  }\r\n}));\r\n\r\nconst ImageModal = ({ imageIsOpen, imageDetails, handleClose }) => {\r\n  const classes = useStyles();\r\n  const mediaType = imageDetails.type === 'video/mp4' ? 'video' : 'img';\r\n\r\n  return (\r\n      <Modal\r\n        className={classes.modal}\r\n        open={imageIsOpen}\r\n        onClose={handleClose}\r\n      >\r\n        <Card className={classes.root}>\r\n          <CardHeader\r\n            className={classes.header}\r\n            title={imageDetails.title}\r\n            subheader={imageDetails.desc ? imageDetails.desc : null}\r\n            action={\r\n              <IconButton onClick={handleClose}>\r\n                <CloseIcon />\r\n              </IconButton>\r\n            }\r\n          />\r\n          <CardContent className={classes.root}>\r\n            <Box display=\"flex\" justifyContent=\"space-evenly\">\r\n              {imageDetails.ups ?\r\n                <Box display=\"flex\" className={classes.box}>\r\n                  <ThumbUpIcon />\r\n                  <Typography>\r\n                    {imageDetails.ups}\r\n                  </Typography>\r\n                </Box>\r\n              : null}\r\n              {imageDetails.downs ?\r\n                <Box display=\"flex\" className={classes.box}>\r\n                  <ThumbDownIcon />\r\n                  <Typography>\r\n                    {imageDetails.downs}\r\n                  </Typography>\r\n                </Box>\r\n              : null}\r\n              {imageDetails.score ?\r\n                <Box display=\"flex\" className={classes.box}>\r\n                  <ScoreIcon />\r\n                  <Typography>\r\n                    {imageDetails.score}\r\n                  </Typography>\r\n                </Box>\r\n              : null}\r\n            </Box>\r\n          </CardContent>\r\n          <CardMedia\r\n            component={mediaType}\r\n            image={imageDetails.link}\r\n            title={imageDetails.title}\r\n            controls\r\n          />\r\n        </Card>\r\n      </Modal>\r\n  );\r\n};\r\n\r\nexport default ImageModal;\r\n","import React, { useState } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport GridList from '@material-ui/core/GridList';\r\nimport GridListTile from '@material-ui/core/GridListTile';\r\nimport GridListTileBar from '@material-ui/core/GridListTileBar';\r\nimport { withWidth, isWidthUp } from '@material-ui/core';\r\nimport ImageModal from './ImageModal';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    justifyContent: 'space-around',\r\n    overflow: 'hidden',\r\n    backgroundColor: theme.palette.background.paper\r\n  },\r\n  pointer: {\r\n    cursor: 'pointer'\r\n  }\r\n}));\r\n\r\nconst GalleryGrid = ({ images, width }) => {\r\n  const classes = useStyles();\r\n\r\n  const [imageIsOpen, setImageIsOpen] = useState(false);\r\n  const [imageDetails, setImageDetails] = useState(false);\r\n\r\n  const handleOpen = (imgDetails) => {\r\n    setImageIsOpen(true);\r\n    setImageDetails(imgDetails);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setImageIsOpen(false);\r\n    setImageDetails(false);\r\n  };\r\n\r\n  const getGridListCols = () => {\r\n    if (isWidthUp('lg', width)) {\r\n      return 5;\r\n    }\r\n\r\n    if (isWidthUp('md', width)) {\r\n      return 4;\r\n    }\r\n\r\n    if (isWidthUp('sm', width)) {\r\n      return 3;\r\n    }\r\n\r\n    return 2;\r\n  }\r\n\r\n  const getImageParts = (image) => {\r\n    let link = image.link,\r\n        title = image.title,\r\n        imageObj = {\r\n          title,\r\n          desc: image.description,\r\n          link,\r\n          type: image.type,\r\n          ups: image.ups,\r\n          downs: image.downs,\r\n          score: image.score\r\n        };\r\n\r\n    if (!!image.type && image.type === 'video/mp4') {\r\n      link = image.gifv.slice(0, -1);\r\n    }\r\n\r\n    if (typeof image.images !== 'undefined') {\r\n      const curImage = image.images[0];\r\n\r\n      link = curImage.link;\r\n      imageObj.link = curImage.link;\r\n      if (curImage.type === 'video/mp4') {\r\n        link = curImage.gifv.slice(0, -1);\r\n      }\r\n      if (!title) {\r\n        title = curImage.title;\r\n        imageObj.title = curImage.title;\r\n      }\r\n      if (!image.description) {\r\n        imageObj.desc = curImage.description;\r\n      }\r\n      if (!image.type) {\r\n        imageObj.type = curImage.type;\r\n      }\r\n      if (!image.ups) {\r\n        imageObj.ups = curImage.ups;\r\n      }\r\n      if (!image.downs) {\r\n        imageObj.downs = curImage.downs;\r\n      }\r\n      if (!image.score) {\r\n        imageObj.score = curImage.score;\r\n      }\r\n    }\r\n\r\n    return [link, title, imageObj];\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <ImageModal\r\n        imageIsOpen={imageIsOpen}\r\n        imageDetails={imageDetails}\r\n        handleClose={handleClose}\r\n      />\r\n      <GridList\r\n        cols={getGridListCols()}\r\n        spacing={(isWidthUp('md', width) ? 20 : 4)}\r\n      >\r\n        {images.map((image, key) => {\r\n          const [link, title, imageObj] = getImageParts(image);\r\n\r\n          return (\r\n            <GridListTile className={classes.pointer} key={key} onClick={() => handleOpen(imageObj)}>\r\n              <img src={link} alt={title} />\r\n              <GridListTileBar title={title} />\r\n            </GridListTile>\r\n          );\r\n        })}\r\n      </GridList>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withWidth()(GalleryGrid);","import React from 'react';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: '100%',\r\n    '& > * + *': {\r\n      marginTop: theme.spacing(2),\r\n    },\r\n  },\r\n}));\r\n\r\nconst GallerySnackBar = ({ isError, setIsError }) => {\r\n  const classes = useStyles();\r\n\r\n  const handleClose = (event, reason) => {\r\n    if (reason === 'clickaway') {\r\n      return;\r\n    }\r\n\r\n    setIsError(false);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Snackbar open={isError} autoHideDuration={6000} onClose={handleClose}>\r\n        <MuiAlert\r\n          elevation={6}\r\n          variant=\"filled\"\r\n          severity=\"error\"\r\n          onClose={handleClose}\r\n        >\r\n          Something went wrong!\r\n        </MuiAlert>\r\n      </Snackbar>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default GallerySnackBar;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { API } from './api/api';\r\nimport BackdropLoader from './components/BackdropLoader';\r\nimport GalleryFilter from './components/GalleryFilter';\r\nimport GalleryGrid from './components/GalleryGrid';\r\nimport GallerySnackBar from './components/GallerySnackBar';\r\n\r\nfunction App() {\r\n  const [filters, setFilters] = useState({\r\n    section: 'hot',\r\n    sort: 'viral',\r\n    window: 'day',\r\n    showViral: true\r\n  });\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [isError, setIsError] = useState(false);\r\n  const [page, setPage] = useState(0);\r\n  const [images, setImages] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const handleScroll = () => {\r\n      if (\r\n        Math.ceil(window.innerHeight + document.documentElement.scrollTop) !== document.documentElement.offsetHeight ||\r\n        isLoading\r\n      ) {\r\n        return;\r\n      }\r\n      const fetchData = async () => {\r\n        setIsError(false);\r\n        setIsLoading(true);\r\n\r\n        try {\r\n          const result = await API.fetchData(filters, page + 1);\r\n\r\n          setImages(images => [...images, ...result.data]);\r\n          setPage(page => page + 1);\r\n        } catch (error) {\r\n          setIsError(true);\r\n        }\r\n\r\n        setIsLoading(false);\r\n      };\r\n\r\n      fetchData();\r\n    };\r\n    window.addEventListener('scroll', handleScroll);\r\n\r\n    return () => {\r\n      window.removeEventListener('scroll', handleScroll);\r\n    };\r\n  }, [isLoading, filters, page]);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      setIsError(false);\r\n      setIsLoading(true);\r\n\r\n      try {\r\n        const result = await API.fetchData(filters);\r\n\r\n        setImages(result.data);\r\n      } catch (error) {\r\n        setIsError(true);\r\n      }\r\n\r\n      setIsLoading(false);\r\n    };\r\n\r\n    fetchData();\r\n  }, [filters]);\r\n\r\n  return (\r\n    <div>\r\n      <GallerySnackBar isError={isError} setIsError={setIsError} />\r\n      <GalleryFilter\r\n        filters={filters}\r\n        setFilters={setFilters}\r\n      />\r\n      <GalleryGrid\r\n        images={images}\r\n      />\r\n      <BackdropLoader open={isLoading} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}