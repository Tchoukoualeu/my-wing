(this["webpackJsonpmy-wing"]=this["webpackJsonpmy-wing"]||[]).push([[0],{104:function(e,t,a){},127:function(e,t,a){"use strict";a.r(t);var n=a(5),r=a(0),c=a.n(r),s=a(10),o=a.n(s),i=(a(104),a(49)),l=a.n(i),u=a(64),j=a(63),d=a(22),b=a(39),p=a(78),O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return p.post("https://euro-aris.glitch.me/euro",Object(b.a)(Object(b.a)({},e),{},{showViral:e.showViral?"true":"false",page:t})).then((function(e){var t=JSON.parse(e.data);if(!t.success)throw new Error(t.data.error);return t})).catch((function(e){throw new Error(e)}))},h=a(200),f=a(176),m=a(173),x=Object(m.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}})),v=function(e){var t=e.open,a=x();return Object(n.jsx)(h.a,{className:a.backdrop,open:t,children:Object(n.jsx)(f.a,{color:"inherit"})})},g=a(54),w=a(179),y=a(180),k=a(182),C=a(181),N=a(177),E=a(197),S=a(192),I=a(199),V=Object(m.a)((function(e){return{formControl:{margin:e.spacing(1)},whiteColor:{color:"white"}}})),H=function(e){var t=e.name,a=e.label,r=e.value,c=e.onChangeHandler,s=e.items,o=e.disabled,i=void 0!==o&&o,l=V();return Object(n.jsxs)(N.a,{className:l.formControl,disabled:i,children:[Object(n.jsx)(E.a,{id:"".concat(t,"-label"),focused:!1,classes:{root:l.whiteColor},children:a}),Object(n.jsx)(S.a,{labelId:"".concat(t,"-label"),name:t,value:r,onChange:c,classes:{root:l.whiteColor,icon:l.whiteColor},children:s.map((function(e,t){return Object(n.jsx)(I.a,{value:e.value,disabled:!!e.disabled,children:e.label},t)}))})]})},T=a(198),D=Object(m.a)((function(e){return{root:{display:"flex",justifyContent:"space-around"}}})),W=function(e){var t=e.filters,a=e.setFilters,r=D(),c=function(e){return a(Object(b.a)(Object(b.a)({},t),{},Object(g.a)({},e.target.name,"showViral"===e.target.name?e.target.checked:e.target.value)))};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(w.a,{position:"fixed",color:"primary",children:Object(n.jsxs)(y.a,{className:r.root,children:[Object(n.jsx)(H,{name:"section",label:"Section",value:t.section,onChangeHandler:c,items:[{value:"hot",label:"Hot"},{value:"top",label:"Top"},{value:"user",label:"User"}]}),Object(n.jsx)(C.a,{orientation:"vertical",flexItem:!0}),Object(n.jsx)(H,{name:"sort",label:"Sort",value:"user"!==t.section&&"rising"===t.sort?"viral":t.sort,onChangeHandler:c,items:[{value:"viral",label:"Viral"},{value:"top",label:"Top"},{value:"time",label:"Time"},{value:"rising",label:"Rising",disabled:"user"!==t.section}]}),Object(n.jsx)(C.a,{orientation:"vertical",flexItem:!0}),Object(n.jsx)(H,{name:"window",label:"Window",value:"top"!==t.section?"day":t.window,onChangeHandler:c,items:[{value:"day",label:"Day"},{value:"week",label:"Week"},{value:"month",label:"Month"},{value:"year",label:"Year"},{value:"all",label:"All"}],disabled:"top"!==t.section}),Object(n.jsx)(C.a,{orientation:"vertical",flexItem:!0}),Object(n.jsx)(k.a,{value:"showViral",control:Object(n.jsx)(T.a,{name:"showViral",size:"small",color:"secondary",checked:"user"!==t.section||t.showViral,onChange:c,disabled:"user"!==t.section}),label:"Viral",labelPlacement:"top"})]})}),Object(n.jsx)(y.a,{})]})},z=a(188),F=a(189),J=a(190),L=a(196),M=a(194),A=a(184),R=a(185),B=a(186),P=a(187),U=a(191),Y=a(183),q=a(50),G=a(84),K=a.n(G),Q=a(85),X=a.n(Q),Z=a(83),$=a.n(Z),_=a(86),ee=a.n(_),te=Object(m.a)((function(e){return{modal:{overflow:"auto",maxWidth:800,margin:"auto"},header:{textAlign:"center",padding:0},root:{padding:e.spacing(1)},box:{"& > *":{marginLeft:e.spacing(1),marginRight:e.spacing(1)}}}})),ae=function(e){var t=e.imageIsOpen,a=e.imageDetails,r=e.handleClose,c=te(),s="video/mp4"===a.type?"video":"img";return Object(n.jsx)(M.a,{className:c.modal,open:t,onClose:r,children:Object(n.jsxs)(A.a,{className:c.root,children:[Object(n.jsx)(R.a,{className:c.header,title:a.title,subheader:a.desc?a.desc:null,action:Object(n.jsx)(Y.a,{onClick:r,children:Object(n.jsx)($.a,{})})}),Object(n.jsx)(B.a,{className:c.root,children:Object(n.jsxs)(U.a,{display:"flex",justifyContent:"space-evenly",children:[a.ups?Object(n.jsxs)(U.a,{display:"flex",className:c.box,children:[Object(n.jsx)(K.a,{}),Object(n.jsx)(q.a,{children:a.ups})]}):null,a.downs?Object(n.jsxs)(U.a,{display:"flex",className:c.box,children:[Object(n.jsx)(X.a,{}),Object(n.jsx)(q.a,{children:a.downs})]}):null,a.score?Object(n.jsxs)(U.a,{display:"flex",className:c.box,children:[Object(n.jsx)(ee.a,{}),Object(n.jsx)(q.a,{children:a.score})]}):null]})}),Object(n.jsx)(P.a,{component:s,image:a.link,title:a.title,controls:!0})]})})},ne=Object(m.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},pointer:{cursor:"pointer"}}})),re=Object(L.a)()((function(e){var t=e.images,a=e.width,c=ne(),s=Object(r.useState)(!1),o=Object(d.a)(s,2),i=o[0],l=o[1],u=Object(r.useState)(!1),j=Object(d.a)(u,2),b=j[0],p=j[1];return Object(n.jsxs)("div",{className:c.root,children:[Object(n.jsx)(ae,{imageIsOpen:i,imageDetails:b,handleClose:function(){l(!1),p(!1)}}),Object(n.jsx)(z.a,{cols:Object(L.b)("lg",a)?5:Object(L.b)("md",a)?4:Object(L.b)("sm",a)?3:2,spacing:Object(L.b)("md",a)?20:4,children:t.map((function(e,t){var a=function(e){var t=e.link,a=e.title,n={title:a,desc:e.description,link:t,type:e.type,ups:e.ups,downs:e.downs,score:e.score};if(e.type&&"video/mp4"===e.type&&(t=e.gifv.slice(0,-1)),"undefined"!==typeof e.images){var r=e.images[0];t=r.link,n.link=r.link,"video/mp4"===r.type&&(t=r.gifv.slice(0,-1)),a||(a=r.title,n.title=r.title),e.description||(n.desc=r.description),e.type||(n.type=r.type),e.ups||(n.ups=r.ups),e.downs||(n.downs=r.downs),e.score||(n.score=r.score)}return[t,a,n]}(e),r=Object(d.a)(a,3),s=r[0],o=r[1],i=r[2];return Object(n.jsxs)(F.a,{className:c.pointer,onClick:function(){return e=i,l(!0),void p(e);var e},children:[Object(n.jsx)("img",{src:s,alt:o}),Object(n.jsx)(J.a,{title:o})]},t)}))})]})})),ce=a(195),se=a(193),oe=Object(m.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}})),ie=function(e){var t=e.isError,a=e.setIsError,r=oe(),c=function(e,t){"clickaway"!==t&&a(!1)};return Object(n.jsx)("div",{className:r.root,children:Object(n.jsx)(ce.a,{open:t,autoHideDuration:6e3,onClose:c,children:Object(n.jsx)(se.a,{elevation:6,variant:"filled",severity:"error",onClose:c,children:"Something went wrong!"})})})};var le=function(){var e=Object(r.useState)({section:"hot",sort:"viral",window:"day",showViral:!0}),t=Object(d.a)(e,2),a=t[0],c=t[1],s=Object(r.useState)(!1),o=Object(d.a)(s,2),i=o[0],b=o[1],p=Object(r.useState)(!1),h=Object(d.a)(p,2),f=h[0],m=h[1],x=Object(r.useState)(0),g=Object(d.a)(x,2),w=g[0],y=g[1],k=Object(r.useState)([]),C=Object(d.a)(k,2),N=C[0],E=C[1];return Object(r.useEffect)((function(){var e=function(){Math.ceil(window.innerHeight+document.documentElement.scrollTop)!==document.documentElement.offsetHeight||i||function(){var e=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!1),b(!0),e.prev=2,e.next=5,O(a,w+1);case 5:t=e.sent,E((function(e){return[].concat(Object(u.a)(e),Object(u.a)(t.data))})),y((function(e){return e+1})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),m(!0);case 13:b(!1);case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}()()};return window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}}),[i,a,w]),Object(r.useEffect)((function(){(function(){var e=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!1),b(!0),e.prev=2,e.next=5,O(a);case 5:t=e.sent,E(t.data),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),m(!0);case 12:b(!1);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}})()()}),[a]),Object(n.jsxs)("div",{children:[Object(n.jsx)(ie,{isError:f,setIsError:m}),Object(n.jsx)(W,{filters:a,setFilters:c}),Object(n.jsx)(re,{images:N}),Object(n.jsx)(v,{open:i})]})};o.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(le,{})}),document.getElementById("root"))}},[[127,1,2]]]);
//# sourceMappingURL=main.4d3bb1ae.chunk.js.map